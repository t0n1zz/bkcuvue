(window.webpackJsonp=window.webpackJsonp||[]).push([[101,143],{"5tjT":function(t,e,a){"use strict";var n={props:{message:{default:""}}},r=a("KHd+"),s=Object(r.a)(n,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{display:"inline-block"}},[e("span",{staticClass:"badge bg-danger-400 align-self-center ml-auto"},[this._v("Wajib diisi")])])}],!1,null,null,null);e.a=s.exports},Iab2:function(t,e,a){(function(a){var n,r,s;r=[],void 0===(s="function"==typeof(n=function(){"use strict";function e(t,e,a){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){o(n.response,e,a)},n.onerror=function(){console.error("could not download file")},n.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,i=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(t,a,i){var o=s.URL||s.webkitURL,l=document.createElement("a");a=a||t.name||"download",l.download=a,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?r(l):n(l.href)?e(t,a,i):r(l,l.target="_blank")):(l.href=o.createObjectURL(t),setTimeout((function(){o.revokeObjectURL(l.href)}),4e4),setTimeout((function(){r(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,a,s){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,s),a);else if(n(t))e(t,a,s);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout((function(){r(i)}))}}:function(t,a,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,a,n);var o="application/octet-stream"===t.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l||i)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},d.readAsDataURL(t)}else{var u=s.URL||s.webkitURL,m=u.createObjectURL(t);r?r.location=m:location.href=m,r=null,setTimeout((function(){u.revokeObjectURL(m)}),4e4)}});s.saveAs=o.saveAs=o,t.exports=o})?n.apply(e,r):n)||(t.exports=s)}).call(this,a("yLpj"))},Lqni:function(t,e,a){"use strict";a.r(e);var n=a("L2JU"),r=a("Ll3F"),s=a("xuR2"),i=a("s20v"),o=a("8MVx"),l=a("Ocez"),c=a("vkua");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var p={components:{DataViewer:i.a,appModal:o.a,checkValue:l.a,formData:c.default},props:["title","kelas"],data:function(){return{selectedItem:[],query:{order_column:"kode",order_direction:"asc",filter_match:"and",limit:50,page:1},excelDownloadUrl:"",columnData:[{title:"No.",name:"No.",tipe:"string",sort:!1,hide:!1,disable:!1},{title:"Kode",name:"kode",tipe:"string",sort:!0,hide:!1,disable:!1,filter:!0,filterDefault:!0},{title:"Name",name:"name",tipe:"string",sort:!0,hide:!1,disable:!1,filter:!0},{title:"Tipe",name:"tipe",tipe:"string",sort:!1,hide:!1,disable:!1,filter:!0},{title:"Level",name:"level",tipe:"string",sort:!1,hide:!1,disable:!1,filter:!0},{title:"Induk",name:"induk.kode",tipe:"string",sort:!1,hide:!1,disable:!1,filter:!0},{title:"Keterangan",name:"keterangan",tipe:"string",sort:!1,hide:!1,disable:!1,filter:!1},{title:"Tgl. Buat",name:"created_at",tipe:"datetime",sort:!0,hide:!1,disable:!1,filter:!0},{title:"Tgl. Ubah",name:"updated_at",tipe:"datetime",sort:!0,hide:!1,disable:!1,filter:!0}],state:"",formState:"",formModel:{},modalShow:!1,modalState:"",modalTitle:"",modalColor:"",modalContent:"",modalButton:""}},created:function(){this.fetch(this.query)},watch:{$route:function(t,e){this.fetch(this.query)},updateStat:function(t){this.modalState=t,this.modalButton="Ok",this.selectedItem={},"success"===t?(this.modalTitle=this.updateMessage.message,this.modalContent="",this.fetch(this.query)):this.modalContent="fail"===t?this.updateMessage:""}},methods:{fetch:function(t){this.$store.dispatch(this.kelas+"/index",t),this.excelDownloadUrl=this.kelas},selectedRow:function(t){this.selectedItem=t},modalOpen:function(t){this.modalShow=!0,"create"==t?(this.modalState="normal1",this.modalColor="bg-primary",this.formState="create",this.modalTitle="Tambah CoA"):"edit"==t?(this.modalState="normal1",this.modalColor="bg-primary",this.formState="edit",this.modalTitle="Ubah CoA",this.formModel=Object.assign({},this.selectedItem)):"delete"==t&&(this.modalState="confirm-tutup",this.modalColor="",this.modalTitle=this.modalTitle="Hapus CoA "+this.selectedItem.name+" ini ?")},modalTutup:function(){this.modalShow=!1,this.$store.dispatch(this.kelas+"/resetUpdateStat")},modalConfirmOk:function(){this.$store.dispatch(this.kelas+"/destroy",this.selectedItem.id)}},computed:u(u({},Object(n.b)("auth",{currentUser:"currentUser"})),Object(n.b)("coa",{itemData:"dataS",itemDataStat:"dataStatS",updateMessage:"update",updateStat:"updateStat"}))},f=a("KHd+"),v=Object(f.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("data-viewer",{attrs:{title:t.title,columnData:t.columnData,itemData:t.itemData,query:t.query,itemDataStat:t.itemDataStat,excelDownloadUrl:t.excelDownloadUrl,isUploadExcel:!1},on:{fetch:t.fetch},scopedSlots:t._u([{key:"item-desktop",fn:function(e){return[a("tr",{staticClass:"text-nowrap",class:{"bg-info":t.selectedItem.id===e.item.id},on:{click:function(a){return t.selectedRow(e.item)}}},[t.columnData[0].hide?t._e():a("td",[t._v("\n\t\t\t\t\t"+t._s(e.index+1+(+t.itemData.current_page-1)*+t.itemData.per_page+".")+"\n\t\t\t\t")]),t._v(" "),t.columnData[1].hide?t._e():a("td",[a("check-value",{attrs:{value:e.item.kode}})],1),t._v(" "),t.columnData[2].hide?t._e():a("td",[a("check-value",{attrs:{value:e.item.name}})],1),t._v(" "),t.columnData[3].hide?t._e():a("td",[a("check-value",{attrs:{value:e.item.tipe}})],1),t._v(" "),t.columnData[4].hide?t._e():a("td",[a("check-value",{attrs:{value:e.item.level}})],1),t._v(" "),t.columnData[5].hide?t._e():a("td",[e.item.induk?a("check-value",{attrs:{value:e.item.induk.kode}}):a("span",[t._v("-")])],1),t._v(" "),t.columnData[6].hide?t._e():a("td",[a("check-value",{attrs:{value:e.item.keterangan}})],1),t._v(" "),t.columnData[7].hide?t._e():a("td",{domProps:{innerHTML:t._s(t.$options.filters.dateTime(e.item.created_at))}}),t._v(" "),t.columnData[8].hide?t._e():a("td",[e.item.created_at!==e.item.updated_at?a("span",{domProps:{innerHTML:t._s(t.$options.filters.dateTime(e.item.updated_at))}}):a("span",[t._v("-")])])])]}}])},[a("template",{slot:"button-desktop"},[t.currentUser.can&&t.currentUser.can.create_coa?a("button",{staticClass:"btn btn-light mb-1",on:{click:function(e){return e.preventDefault(),t.modalOpen("create")}}},[a("i",{staticClass:"icon-plus3"}),t._v(" Tambah\n\t\t\t")]):t._e(),t._v(" "),t.currentUser.can&&t.currentUser.can.update_coa?a("button",{staticClass:"btn btn-light mb-1",attrs:{disabled:!t.selectedItem.id},on:{click:function(e){return e.preventDefault(),t.modalOpen("edit")}}},[a("i",{staticClass:"icon-pencil5"}),t._v(" Ubah\n\t\t\t")]):t._e(),t._v(" "),t.currentUser.can&&t.currentUser.can.destroy_coa?a("button",{staticClass:"btn btn-light mb-1",attrs:{disabled:!t.selectedItem.id},on:{click:function(e){return e.preventDefault(),t.modalOpen("delete")}}},[a("i",{staticClass:"icon-bin2"}),t._v(" Hapus\n\t\t\t")]):t._e()]),t._v(" "),a("template",{slot:"button-mobile"},[t.currentUser.can&&t.currentUser.can.create_coa?a("router-link",{staticClass:"btn btn-light btn-block mb-1",attrs:{to:{name:t.kelas+"Create"}}},[a("i",{staticClass:"icon-plus3"}),t._v(" Tambah\n\t\t\t")]):t._e(),t._v(" "),t.currentUser.can&&t.currentUser.can.update_coa?a("button",{staticClass:"btn btn-light btn-block mb-1",attrs:{disabled:!t.selectedItem.id},on:{click:function(e){return e.preventDefault(),t.ubahData(t.selectedItem.id)}}},[a("i",{staticClass:"icon-pencil5"}),t._v(" Ubah\n\t\t\t")]):t._e(),t._v(" "),t.currentUser.can&&t.currentUser.can.destroy_coa?a("button",{staticClass:"btn btn-light btn-block mb-1",attrs:{disabled:!t.selectedItem.id},on:{click:function(e){return e.preventDefault(),t.modalConfirmOpen("hapus")}}},[a("i",{staticClass:"icon-bin2"}),t._v(" Hapus\n\t\t\t")]):t._e()],1)],2),t._v(" "),a("app-modal",{attrs:{show:t.modalShow,state:t.modalState,title:t.modalTitle,content:t.modalContent,color:t.modalColor},on:{batal:t.modalTutup,tutup:t.modalTutup,confirmOk:t.modalConfirmOk,successOk:t.modalTutup,failOk:t.modalTutup,backgroundClick:t.modalTutup}},[a("template",{slot:"modal-title"},[t._v("\n\t\t\t "+t._s(t.modalTitle)+"\n\t\t ")]),t._v(" "),a("template",{slot:"modal-body1"},[a("form-data",{attrs:{formState:t.formState,selected:t.formModel},on:{tutup:t.modalTutup}})],1)],2)],1)}),[],!1,null,null,null).exports;function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){_(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function _(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var k={components:{pageHeader:r.a,message:s.a,tableData:v},data:function(){return{title:"CoA",kelas:"coa",titleDesc:"Mengelola data charts of accounts",titleIcon:"icon-notebook"}},created:function(){this.checkUser("index_coa",this.$route.params.cu)},methods:{checkUser:function(t,e){this.currentUser&&(this.currentUser.can&&this.currentUser.can[t]||this.$router.push("/notFound"),e&&!this.currentUser.id_cu||0!=this.currentUser.id_cu&&this.currentUser.id_cu!=e&&this.$router.push("/notFound"))}},computed:b(b({},Object(n.b)("auth",{currentUser:"currentUser"})),Object(n.b)("coa",{itemData:"dataS",itemDataStat:"dataStatS"}))},g=Object(f.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("page-header",{attrs:{title:t.title,titleDesc:t.titleDesc,titleIcon:t.titleIcon}}),t._v(" "),a("div",{staticClass:"page-content pt-0"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"content"},["fail"===t.itemDataStat?a("message",{attrs:{title:"Oops terjadi kesalahan:",errorData:t.itemData}}):t._e(),t._v(" "),a("table-data",{attrs:{title:t.title,kelas:t.kelas}})],1)])])],1)}),[],!1,null,null,null);e.default=g.exports},vkua:function(t,e,a){"use strict";a.r(e);var n=a("LvDl"),r=a.n(n),s=a("L2JU"),i=a("xuR2"),o=a("5tjT"),l=a("IIPP"),c=a.n(l);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){m(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function m(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var p={props:["formState","selected"],components:{message:i.a,wajibBadge:o.a,Cleave:c.a},data:function(){return{kelas:"coa",kode:"",form:{id_induk:"",kode:"",name:"",tipe:"",level:"",keterangan:""},formData:{},modelIndukSelect:{},cleaveOption:{number30:{numeral:!0,numeralIntegerScale:30,numeralDecimalScale:0,stripLeadingZeroes:!1,delimiter:""}},message:{show:!1,content:""},submited:!1}},created:function(){this.$store.dispatch(this.kelas+"/get")},watch:{modelIndukStat:function(t){"success"==t&&"edit"==this.formState&&(this.form=this.selected,this.filterInduk())}},methods:{save:function(){var t=this;this.$validator.validateAll("form").then((function(e){e?("edit"==t.formState?t.$store.dispatch(t.kelas+"/update",[t.selected.id,t.form]):t.$store.dispatch(t.kelas+"/store",t.form),t.submited=!1):t.submited=!0}))},filterInduk:function(){var t=this.form.kode,e=r.a.filter(this.modelInduk,{kode:t.slice(0,-1)});this.modelIndukSelect=e.length>0?e[0]:{},this.form.id_induk=e.length>0?e[0].id:0},tutup:function(){this.$emit("tutup")}},computed:u(u({},Object(s.b)("auth",{currentUser:"currentUser"})),Object(s.b)("coa",{modelInduk:"dataS2",modelIndukStat:"dataStatS2"}))},f=a("KHd+"),v=Object(f.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("form",{attrs:{"data-vv-scope":"form",autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.save.apply(null,arguments)}}},[t.errors.any("form")&&t.submited?a("message",{attrs:{title:"Oops, terjadi kesalahan",errorItem:t.errors.items}}):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[Object.keys(t.modelIndukSelect).length>0?a("div",{staticClass:"card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("ul",{staticClass:"list list-unstyled mb-1"},[a("li",[a("b",[t._v("No. Akun:")]),t._v(" "+t._s(this.modelIndukSelect.kode))]),t._v(" "),a("li",[a("b",[t._v("Nama:")]),t._v(" "+t._s(this.modelIndukSelect.name))])])]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("ul",{staticClass:"list list-unstyled mb-1"},[a("li",[a("b",[t._v("Tipe:")]),t._v(" "+t._s(this.modelIndukSelect.tipe))]),t._v(" "),a("li",[a("b",[t._v("Level:")]),t._v(" "+t._s(this.modelIndukSelect.level))])])]),t._v(" "),a("div",{staticClass:"col-sm-12"},[a("b",[t._v("Keterangan:")]),t._v(" "),a("br"),t._v(" "),a("span",{domProps:{innerHTML:t._s(t.modelIndukSelect.keterangan)}})])])])]):a("div",{staticClass:"card card-body"},[t._v("\n\t\t\t\t\tTidak ada induk\n\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group",class:{"has-error":t.errors.has("form.kode")}},[a("h5",{class:{"text-danger":t.errors.has("form.kode")}},[t.errors.has("form.kode")?a("i",{staticClass:"icon-cross2"}):t._e(),t._v("\n\t\t\t\t\t\tNo. Akun: "),a("wajib-badge")],1),t._v(" "),a("cleave",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",attrs:{name:"kode",options:t.cleaveOption.number30,placeholder:"Silahkan masukkan no akun","data-vv-as":"No. Akun"},nativeOn:{blur:function(e){return t.filterInduk.apply(null,arguments)}},model:{value:t.form.kode,callback:function(e){t.$set(t.form,"kode",e)},expression:"form.kode"}}),t._v(" "),t.errors.has("form.kode")?a("small",{staticClass:"text-muted text-danger"},[a("i",{staticClass:"icon-arrow-small-right"}),t._v(" "+t._s(t.errors.first("form.kode"))+"\n\t\t\t\t\t")]):a("small",{staticClass:"text-muted"},[t._v(" \n\t\t\t\t\t")])],1)]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"form-group",class:{"has-error":t.errors.has("form.name")}},[a("h5",{class:{"text-danger":t.errors.has("form.name")}},[t.errors.has("form.name")?a("i",{staticClass:"icon-cross2"}):t._e(),t._v("\n\t\t\t\t\t\tNama: "),a("wajib-badge")],1),t._v(" "),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",placeholder:"Silahkan masukkan nama CoA","data-vv-as":"Nama"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),t._v(" "),t.errors.has("form.name")?a("small",{staticClass:"text-muted text-danger"},[a("i",{staticClass:"icon-arrow-small-right"}),t._v(" "+t._s(t.errors.first("form.name"))+"\n\t\t\t\t\t")]):a("small",{staticClass:"text-muted"},[t._v(" ")])])]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("h5",[t._v("\n\t\t\t\t\t\tKeterangan:\n\t\t\t\t\t")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.keterangan,expression:"form.keterangan"}],staticClass:"form-control",attrs:{rows:"5",type:"text",name:"keterangan",placeholder:"Silahkan masukkan keterangan"},domProps:{value:t.form.keterangan},on:{input:function(e){e.target.composing||t.$set(t.form,"keterangan",e.target.value)}}})])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"text-center d-none d-md-block"},[a("button",{staticClass:"btn btn-light",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.tutup.apply(null,arguments)}}},[a("i",{staticClass:"icon-cross"}),t._v(" Tutup")]),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"d-block d-md-none"},[t._m(2),t._v(" "),a("button",{staticClass:"btn btn-light btn-block pb-2",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.tutup.apply(null,arguments)}}},[a("i",{staticClass:"icon-cross"}),t._v(" Tutup")])])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header bg-white"},[e("h6",{staticClass:"card-title"},[this._v("\n\t\t\t\t\t\t\tInduk\n\t\t\t\t\t\t")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e("i",{staticClass:"icon-floppy-disk"}),this._v(" Simpan")])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-primary btn-block pb-2",attrs:{type:"submit"}},[e("i",{staticClass:"icon-floppy-disk"}),this._v(" Simpan")])}],!1,null,null,null);e.default=v.exports}}]);